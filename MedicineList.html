<!DOCTYPE html>
<html>
<head>
  <title>Medicine List</title>
  <base target="_top">
  <?!= include('Css'); ?>  <!-- Include your CSS file for styling -->
  <script type="text/javascript" src="https://unpkg.com/tabulator-tables@5.6.1/dist/js/tabulator.min.js"></script>
  <style>
    body {background-color: rgba(128, 0, 128, 0.3);}
    .container {padding: 20px;}
  </style>
</head>
<body>
<button onclick="window.location.href='https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec?page=medicine'">View Medicine List</button>

  <div class="container">
    <div class="alert alert-dark" role="alert">
      <h4 class="text-center">Medicine List</h4>
    </div>
    <div id="medicine-table"></div> <!-- Tabulator will display here -->
  </div>

  <script>
    // Fetch medicine data from Apps Script and create a Tabulator table
    document.addEventListener("DOMContentLoaded", function() {
      google.script.run.withSuccessHandler(createMedicineTable).getMedicineData();
    });

    function createMedicineTable(medicineData) {
      // Initialize Tabulator to display the medicine data
      new Tabulator("#medicine-table", {
        data: medicineData,  // Pass the data to Tabulator
        pagination: true,  // Enable pagination
        paginationSize: 20,  // Number of records per page
        paginationSizeSelector: true,  // Allow users to change page size
        movableColumns: true,  // Allow columns to be moved
        responsiveLayout: "collapse",  // Collapse columns for small screens
        layout: "fitColumns",  // Auto-fit columns to available width
        columnDefaults: { tooltip: true },  // Enable tooltips on columns
        columns: [
          { title: "Medicine Name", field: "Medicine Name", headerFilter: true, hozAlign: "center" },
          { title: "Generic Name / Brand Name", field: "Generic Name / Brand Name", headerFilter: true },
          { title: "Dosage", field: "Dosage", headerFilter: true },
          { title: "Considerations", field: "Considerations", headerFilter: true }
        ]
      });
    }
  </script>
</body>
</html>
